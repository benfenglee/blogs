# 从输入一个URL到页面显示浏览器都干了什么
从输入URL到页面显示主要经历了7个步骤
## 1.输入URL并解析
- 用户在地址栏输入URL（例如https://www.baidu.com）
- 浏览器会解析URL,提取协议(如https),域名(www.baidu.com),端口(默认443)和路径等信息.
## 2.DNS解析
- 浏览器需要将域名转换成服务器的IP地址，这个过程称为DNS解析.
- 浏览器在查询前会优先检查缓存.
	a.浏览器缓存:检查是否缓存了该域名的IP地址.
	b.操作系统缓存:如果浏览缓存没有则查询操作系统的DNS缓存.
	c.路由器缓存:向本地路由器查询缓存.
	d.ISP DNS服务器:如果以上缓存都没有,浏览器回想ISP（互联网服务提供商）的DNS服务器发起请求.
- 如果DNS服务器没有缓存,会从根域名服务器开始递归查询,直到找到对应的IP地址.
## 3.建立TCP连接
- 浏览器通过IP地址和端口与服务器建立连接.
- 使用TCP三次握手建立可靠的连接:
	a.浏览器发送`SYN`包到服务器.
	b.服务器回复`SYN-ACK`包.
	c.浏览器发送`ACK`包,连接建立.
## 4.发送HTTP请求
- 浏览器向服务器发送HTTP请求(如GET /index.html HTTP/1.1).
- 请求头中会包含以下信息:
	- Host:目标域名.
	- User-Agent:浏览器和操作系统的信息.
	- Accept:浏览器可以接收的文件类型.
	- Cookie:如果之前访问过该网站,浏览器会发送相关的Cookie.
## 5.服务器处理请求
- 服务器接收到请求后根据路径与请求方法(如GET,POST)来处理请求.
- 服务器可能会有一些操作:
	- 读取静态文件.
	- 执行后端代码生成响应内容.
	- 查询数据库获取数据并响应.
- 服务器生成HTTP响应,包含状态码(如200 OK),响应头(如Content-Type)和响应体(如HTML内容).
## 6.接收HTTP响应
- 浏览器接收到服务器的响应.
- 如果状态码是`301`或`302`,浏览器xiang会根据`Location`头重新发起请求.
- 如果状态码是`200`则解析响应内容
## 7.浏览器解析内容并渲染界面
详细可以查看 [27.浏览器的渲染流程](./27.浏览器的渲染流程.md)